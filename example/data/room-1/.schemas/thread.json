{"$root_tag_ref": "#/$defs/thread", "type": "object", "additionalProperties": false, "required": ["thread"], "properties": {"thread": {"type": "object", "additionalProperties": false, "required": ["name", "properties"], "properties": {"name": {"type": "string", "description": "name of the tread"}, "properties": {"type": "array", "prefixItems": [{"$ref": "#/$defs/members"}, {"$ref": "#/$defs/messages"}], "items": false, "description": "the messages in the thread"}}}}, "description": "a thread of messages", "$defs": {"thread": {"type": "object", "additionalProperties": false, "required": ["thread"], "properties": {"thread": {"type": "object", "additionalProperties": false, "required": ["name", "properties"], "properties": {"name": {"type": "string", "description": "name of the tread"}, "properties": {"type": "array", "prefixItems": [{"$ref": "#/$defs/members"}, {"$ref": "#/$defs/messages"}], "items": false, "description": "the messages in the thread"}}}}, "description": "a thread of messages"}, "members": {"type": "object", "additionalProperties": false, "required": ["members"], "properties": {"members": {"type": "object", "additionalProperties": false, "required": ["items"], "properties": {"items": {"type": "array", "items": {"anyOf": [{"$ref": "#/$defs/member"}]}, "description": "the messages in this thread"}}}}, "description": "the members of this thread"}, "messages": {"type": "object", "additionalProperties": false, "required": ["messages"], "properties": {"messages": {"type": "object", "additionalProperties": false, "required": ["items"], "properties": {"items": {"type": "array", "items": {"anyOf": [{"$ref": "#/$defs/message"}, {"$ref": "#/$defs/exec"}]}, "description": "the messages in this thread"}}}}, "description": "the messages of this thread"}, "member": {"type": "object", "additionalProperties": false, "required": ["member"], "properties": {"member": {"type": "object", "additionalProperties": false, "required": ["name", "type"], "properties": {"name": {"type": "string", "description": "the name of the member"}, "type": {"type": "string", "enum": ["user", "agent"], "description": "the type of member"}}}}, "description": "a member of this thread"}, "file": {"type": "object", "additionalProperties": false, "required": ["file"], "properties": {"file": {"type": "object", "additionalProperties": false, "required": ["path"], "properties": {"path": {"type": "string", "description": "the path of the file in the room"}}}}, "description": "a file attachment"}, "exec": {"type": "object", "additionalProperties": false, "required": ["exec"], "properties": {"exec": {"type": "object", "additionalProperties": false, "required": ["command", "result", "pwd"], "properties": {"command": {"type": "string", "description": "a command that was executed"}, "result": {"type": "string", "description": "the result of the command"}, "pwd": {"type": "string", "description": "the working directory the command was executed in"}}}}, "description": "a command execution"}, "message": {"type": "object", "additionalProperties": false, "required": ["message"], "properties": {"message": {"type": "object", "additionalProperties": false, "required": ["id", "text", "created_at", "author_name", "author_ref", "attachments"], "properties": {"id": {"type": "string", "description": "the id of the message"}, "text": {"type": "string", "description": "the text of the message"}, "created_at": {"type": "string", "description": "the date that the message was sent in ISO format"}, "author_name": {"type": "string", "description": "the name of the author of the post"}, "author_ref": {"type": "string", "description": "a reference to author identity in another system"}, "attachments": {"type": "array", "items": {"anyOf": [{"$ref": "#/$defs/file"}]}, "description": "a list of message attachments"}}}}, "description": "a message sent in the conversation"}}}